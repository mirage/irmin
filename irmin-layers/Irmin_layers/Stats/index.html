<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stats (irmin-layers.Irmin_layers.Stats)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">irmin-layers</a> &#x00BB; <a href="../index.html">Irmin_layers</a> &#x00BB; Stats</nav><header class="odoc-preamble"><h1>Module <code><span>Irmin_layers.Stats</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#profiling-of-freeze">Profiling of Freeze</a><ul><li><a href="#control-flow-of-the-freeze-thread">Control Flow of the Freeze Thread</a></li><li><a href="#incrementations-of-counters">Incrementations of Counters</a></li><li><a href="#observation">Observation</a></li><li><a href="#misc.">Misc.</a></li></ul></li></ul></nav><div class="odoc-content"><h3 id="profiling-of-freeze"><a href="#profiling-of-freeze" class="anchor"></a>Profiling of Freeze</h3><h4 id="control-flow-of-the-freeze-thread"><a href="#control-flow-of-the-freeze-thread" class="anchor"></a>Control Flow of the Freeze Thread</h4><p>Most of the functions here should be called from under a single mutex lock.</p><div class="odoc-spec"><div class="spec value" id="val-freeze_start" class="anchored"><a href="#val-freeze_start" class="anchor"></a><code><span><span class="keyword">val</span> freeze_start : <span><span class="xref-unresolved">Mtime</span>.t <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Signals the start of a new freeze given the time at which the freeze process started and the name given to the initial code section.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-freeze_section" class="anchored"><a href="#val-freeze_section" class="anchor"></a><code><span><span class="keyword">val</span> freeze_section : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Signals that the freeze is entering a specific section of the code.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-freeze_stop" class="anchored"><a href="#val-freeze_stop" class="anchor"></a><code><span><span class="keyword">val</span> freeze_stop : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Signals the end of an ongoing freeze freeze.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-freeze_yield" class="anchored"><a href="#val-freeze_yield" class="anchor"></a><code><span><span class="keyword">val</span> freeze_yield : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Signals that the freeze is cooperatively yielding to other threads.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-freeze_yield_end" class="anchored"><a href="#val-freeze_yield_end" class="anchor"></a><code><span><span class="keyword">val</span> freeze_yield_end : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Signals that the freeze is given back the control.</p></div></div><h4 id="incrementations-of-counters"><a href="#incrementations-of-counters" class="anchor"></a>Incrementations of Counters</h4><div class="odoc-spec"><div class="spec value" id="val-copy_contents" class="anchored"><a href="#val-copy_contents" class="anchor"></a><code><span><span class="keyword">val</span> copy_contents : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Increments the number of copied contents for the current freeze.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy_nodes" class="anchored"><a href="#val-copy_nodes" class="anchor"></a><code><span><span class="keyword">val</span> copy_nodes : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Increments the number of copied nodes for the current freeze.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy_commits" class="anchored"><a href="#val-copy_commits" class="anchor"></a><code><span><span class="keyword">val</span> copy_commits : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Increments the number of copied commits for the current freeze.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy_branches" class="anchored"><a href="#val-copy_branches" class="anchor"></a><code><span><span class="keyword">val</span> copy_branches : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Increments the number of copied branches for the current freeze.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Increment the number of objects added by main thread.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-skip_test" class="anchored"><a href="#val-skip_test" class="anchor"></a><code><span><span class="keyword">val</span> skip_test : <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Increment the number time we wondered if an entry was present at the destination during a graph traversal for the current freeze.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy_newies_loop" class="anchored"><a href="#val-copy_newies_loop" class="anchor"></a><code><span><span class="keyword">val</span> copy_newies_loop : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Increment the number of iterations of newies copy.</p></div></div><h4 id="observation"><a href="#observation" class="anchor"></a>Observation</h4><div class="odoc-spec"><div class="spec value" id="val-get_add_count" class="anchored"><a href="#val-get_add_count" class="anchor"></a><code><span><span class="keyword">val</span> get_add_count : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_copied_commits_count" class="anchored"><a href="#val-get_copied_commits_count" class="anchor"></a><code><span><span class="keyword">val</span> get_copied_commits_count : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_copied_branches_count" class="anchored"><a href="#val-get_copied_branches_count" class="anchor"></a><code><span><span class="keyword">val</span> get_copied_branches_count : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_copied_contents_count" class="anchored"><a href="#val-get_copied_contents_count" class="anchor"></a><code><span><span class="keyword">val</span> get_copied_contents_count : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_copied_nodes_count" class="anchored"><a href="#val-get_copied_nodes_count" class="anchor"></a><code><span><span class="keyword">val</span> get_copied_nodes_count : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_freeze_count" class="anchored"><a href="#val-get_freeze_count" class="anchor"></a><code><span><span class="keyword">val</span> get_freeze_count : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_latest" class="anchored"><a href="#val-pp_latest" class="anchor"></a><code><span><span class="keyword">val</span> pp_latest : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h4 id="misc."><a href="#misc." class="anchor"></a>Misc.</h4><div class="odoc-spec"><div class="spec value" id="val-reset_stats" class="anchored"><a href="#val-reset_stats" class="anchor"></a><code><span><span class="keyword">val</span> reset_stats : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>