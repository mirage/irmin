<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tree (irmin.Irmin__S.STORE.Tree)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">irmin</a> &#x00BB; <a href="../../index.html">Irmin__S</a> &#x00BB; <a href="../index.html">STORE</a> &#x00BB; Tree</nav><h1>Module <code>STORE.Tree</code></h1></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../index.html#module-type-TREE">TREE</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../module-type-TREE/index.html#type-step">step</a> := <a href="../index.html#type-step">step</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../module-type-TREE/index.html#type-key">key</a> := <a href="../index.html#type-key">key</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../module-type-TREE/index.html#type-metadata">metadata</a> := <a href="../index.html#type-metadata">metadata</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../module-type-TREE/index.html#type-contents">contents</a> := <a href="../index.html#type-contents">contents</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../module-type-TREE/index.html#type-node">node</a> := <a href="../index.html#type-node">node</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../module-type-TREE/index.html#type-tree">tree</a> := <a href="../index.html#type-tree">tree</a></code></span></summary><dl><dt class="spec type" id="type-key"><a href="#type-key" class="anchor"></a><code><span class="keyword">type</span> key</code></dt><dt class="spec type" id="type-step"><a href="#type-step" class="anchor"></a><code><span class="keyword">type</span> step</code></dt><dt class="spec type" id="type-metadata"><a href="#type-metadata" class="anchor"></a><code><span class="keyword">type</span> metadata</code></dt><dt class="spec type" id="type-contents"><a href="#type-contents" class="anchor"></a><code><span class="keyword">type</span> contents</code></dt><dt class="spec type" id="type-node"><a href="#type-node" class="anchor"></a><code><span class="keyword">type</span> node</code></dt><dt class="spec type" id="type-tree"><a href="#type-tree" class="anchor"></a><code><span class="keyword">type</span> tree</code> = <code>[ </code><table class="variant"><tr id="type-tree.Node" class="anchored"><td class="def constructor"><a href="#type-tree.Node" class="anchor"></a><code>| </code><code>`Node <span class="keyword">of</span> <a href="index.html#type-node">node</a></code></td></tr><tr id="type-tree.Contents" class="anchored"><td class="def constructor"><a href="#type-tree.Contents" class="anchor"></a><code>| </code><code>`Contents <span class="keyword">of</span> <a href="index.html#type-contents">contents</a> * <a href="index.html#type-metadata">metadata</a></code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-tree">tree</a></code></dt><dt class="spec value" id="val-of_contents"><a href="#val-of_contents" class="anchor"></a><code><span class="keyword">val</span> of_contents : <span>?&#8288;metadata:<a href="index.html#type-metadata">metadata</a></span> <span>&#45;&gt;</span> <a href="index.html#type-contents">contents</a> <span>&#45;&gt;</span> <a href="index.html#type-tree">tree</a></code></dt><dt class="spec value" id="val-of_node"><a href="#val-of_node" class="anchor"></a><code><span class="keyword">val</span> of_node : <a href="index.html#type-node">node</a> <span>&#45;&gt;</span> <a href="index.html#type-tree">tree</a></code></dt><dt class="spec value" id="val-kind"><a href="#val-kind" class="anchor"></a><code><span class="keyword">val</span> kind : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><span><span>[ `Contents <span>| `Node</span> ]</span> option</span> Lwt.t</span></code></dt><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><span><span>(<a href="index.html#type-step">step</a> * <span>[ `Contents <span>| `Node</span> ]</span>)</span> list</span> Lwt.t</span></code></dt><dt class="spec value" id="val-diff"><a href="#val-diff" class="anchor"></a><code><span class="keyword">val</span> diff : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <span><span><span>(<a href="index.html#type-key">key</a> * <span><span>(<a href="index.html#type-contents">contents</a> * <a href="index.html#type-metadata">metadata</a>)</span> <a href="../../index.html#type-diff">diff</a></span>)</span> list</span> Lwt.t</span></code></dt><dt class="spec value" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span class="keyword">val</span> mem : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span>bool Lwt.t</span></code></dt><dt class="spec value" id="val-find_all"><a href="#val-find_all" class="anchor"></a><code><span class="keyword">val</span> find_all : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><span><span>(<a href="index.html#type-contents">contents</a> * <a href="index.html#type-metadata">metadata</a>)</span> option</span> Lwt.t</span></code></dt><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-contents">contents</a> option</span> Lwt.t</span></code></dt><dt class="spec value" id="val-get_all"><a href="#val-get_all" class="anchor"></a><code><span class="keyword">val</span> get_all : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-contents">contents</a> * <a href="index.html#type-metadata">metadata</a>)</span> Lwt.t</span></code></dt><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><a href="index.html#type-contents">contents</a> Lwt.t</span></code></dt><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span>?&#8288;metadata:<a href="index.html#type-metadata">metadata</a></span> <span>&#45;&gt;</span> <a href="index.html#type-contents">contents</a> <span>&#45;&gt;</span> <span><a href="index.html#type-tree">tree</a> Lwt.t</span></code></dt><dt class="spec value" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><a href="index.html#type-tree">tree</a> Lwt.t</span></code></dt><dt class="spec value" id="val-mem_tree"><a href="#val-mem_tree" class="anchor"></a><code><span class="keyword">val</span> mem_tree : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span>bool Lwt.t</span></code></dt><dt class="spec value" id="val-find_tree"><a href="#val-find_tree" class="anchor"></a><code><span class="keyword">val</span> find_tree : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-tree">tree</a> option</span> Lwt.t</span></code></dt><dt class="spec value" id="val-get_tree"><a href="#val-get_tree" class="anchor"></a><code><span class="keyword">val</span> get_tree : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><a href="index.html#type-tree">tree</a> Lwt.t</span></code></dt><dt class="spec value" id="val-add_tree"><a href="#val-add_tree" class="anchor"></a><code><span class="keyword">val</span> add_tree : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <span><a href="index.html#type-tree">tree</a> Lwt.t</span></code></dt><dt class="spec value" id="val-merge"><a href="#val-merge" class="anchor"></a><code><span class="keyword">val</span> merge : <span><a href="index.html#type-tree">tree</a> <a href="../../../Irmin/Merge/index.html#type-t">Irmin.Merge.t</a></span></code></dt></dl><dl><dt class="spec type" id="type-marks"><a href="#type-marks" class="anchor"></a><code><span class="keyword">type</span> marks</code></dt></dl><dl><dt class="spec value" id="val-empty_marks"><a href="#val-empty_marks" class="anchor"></a><code><span class="keyword">val</span> empty_marks : unit <span>&#45;&gt;</span> <a href="index.html#type-marks">marks</a></code></dt></dl><dl><dt class="spec type" id="type-force"><a href="#type-force" class="anchor"></a><code><span class="keyword">type</span> <span>'a force</span></code> = <code>[ </code><table class="variant"><tr id="type-force.True" class="anchored"><td class="def constructor"><a href="#type-force.True" class="anchor"></a><code>| </code><code>`True</code></td></tr><tr id="type-force.False" class="anchored"><td class="def constructor"><a href="#type-force.False" class="anchor"></a><code>| </code><code>`False <span class="keyword">of</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-uniq"><a href="#type-uniq" class="anchor"></a><code><span class="keyword">type</span> uniq</code> = <code>[ </code><table class="variant"><tr id="type-uniq.False" class="anchored"><td class="def constructor"><a href="#type-uniq.False" class="anchor"></a><code>| </code><code>`False</code></td></tr><tr id="type-uniq.True" class="anchored"><td class="def constructor"><a href="#type-uniq.True" class="anchor"></a><code>| </code><code>`True</code></td></tr><tr id="type-uniq.Marks" class="anchored"><td class="def constructor"><a href="#type-uniq.Marks" class="anchor"></a><code>| </code><code>`Marks <span class="keyword">of</span> <a href="index.html#type-marks">marks</a></code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-node_fn"><a href="#type-node_fn" class="anchor"></a><code><span class="keyword">type</span> <span>'a node_fn</span></code><code> = <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <span><a href="index.html#type-step">step</a> list</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : <span>?&#8288;force:<span><span class="type-var">'a</span> <a href="index.html#type-force">force</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;uniq:<a href="index.html#type-uniq">uniq</a></span> <span>&#45;&gt;</span> <span>?&#8288;pre:<span><span class="type-var">'a</span> <a href="index.html#type-node_fn">node_fn</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;post:<span><span class="type-var">'a</span> <a href="index.html#type-node_fn">node_fn</a></span></span> <span>&#45;&gt;</span> <span>(<a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="index.html#type-contents">contents</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt></dl><dl><dt class="spec type" id="type-stats"><a href="#type-stats" class="anchor"></a><code><span class="keyword">type</span> stats</code><code> = </code><code>{</code><table class="record"><tr id="type-stats.nodes" class="anchored"><td class="def field"><a href="#type-stats.nodes" class="anchor"></a><code>nodes : int;</code></td></tr><tr id="type-stats.leafs" class="anchored"><td class="def field"><a href="#type-stats.leafs" class="anchor"></a><code>leafs : int;</code></td></tr><tr id="type-stats.skips" class="anchored"><td class="def field"><a href="#type-stats.skips" class="anchor"></a><code>skips : int;</code></td></tr><tr id="type-stats.depth" class="anchored"><td class="def field"><a href="#type-stats.depth" class="anchor"></a><code>depth : int;</code></td></tr><tr id="type-stats.width" class="anchored"><td class="def field"><a href="#type-stats.width" class="anchor"></a><code>width : int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-pp_stats"><a href="#val-pp_stats" class="anchor"></a><code><span class="keyword">val</span> pp_stats : <span><a href="index.html#type-stats">stats</a> Fmt.t</span></code></dt><dt class="spec value" id="val-stats"><a href="#val-stats" class="anchor"></a><code><span class="keyword">val</span> stats : <span>?&#8288;force:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <span><a href="index.html#type-stats">stats</a> Lwt.t</span></code></dt></dl><dl><dt class="spec type" id="type-concrete"><a href="#type-concrete" class="anchor"></a><code><span class="keyword">type</span> concrete</code> = <code>[ </code><table class="variant"><tr id="type-concrete.Tree" class="anchored"><td class="def constructor"><a href="#type-concrete.Tree" class="anchor"></a><code>| </code><code>`Tree <span class="keyword">of</span> <span><span>(<a href="index.html#type-step">step</a> * <a href="index.html#type-concrete">concrete</a>)</span> list</span></code></td></tr><tr id="type-concrete.Contents" class="anchored"><td class="def constructor"><a href="#type-concrete.Contents" class="anchor"></a><code>| </code><code>`Contents <span class="keyword">of</span> <a href="index.html#type-contents">contents</a> * <a href="index.html#type-metadata">metadata</a></code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-of_concrete"><a href="#val-of_concrete" class="anchor"></a><code><span class="keyword">val</span> of_concrete : <a href="index.html#type-concrete">concrete</a> <span>&#45;&gt;</span> <a href="index.html#type-tree">tree</a></code></dt><dt class="spec value" id="val-to_concrete"><a href="#val-to_concrete" class="anchor"></a><code><span class="keyword">val</span> to_concrete : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <span><a href="index.html#type-concrete">concrete</a> Lwt.t</span></code></dt><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <span>?&#8288;depth:int</span> <span>&#45;&gt;</span> <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-counters"><a href="#type-counters" class="anchor"></a><code><span class="keyword">type</span> counters</code><code> = </code><code>{</code><table class="record"><tr id="type-counters.contents_hash" class="anchored"><td class="def field"><a href="#type-counters.contents_hash" class="anchor"></a><code><span class="keyword">mutable</span> contents_hash : int;</code></td></tr><tr id="type-counters.contents_find" class="anchored"><td class="def field"><a href="#type-counters.contents_find" class="anchor"></a><code><span class="keyword">mutable</span> contents_find : int;</code></td></tr><tr id="type-counters.contents_add" class="anchored"><td class="def field"><a href="#type-counters.contents_add" class="anchor"></a><code><span class="keyword">mutable</span> contents_add : int;</code></td></tr><tr id="type-counters.node_hash" class="anchored"><td class="def field"><a href="#type-counters.node_hash" class="anchor"></a><code><span class="keyword">mutable</span> node_hash : int;</code></td></tr><tr id="type-counters.node_mem" class="anchored"><td class="def field"><a href="#type-counters.node_mem" class="anchor"></a><code><span class="keyword">mutable</span> node_mem : int;</code></td></tr><tr id="type-counters.node_add" class="anchored"><td class="def field"><a href="#type-counters.node_add" class="anchor"></a><code><span class="keyword">mutable</span> node_add : int;</code></td></tr><tr id="type-counters.node_find" class="anchored"><td class="def field"><a href="#type-counters.node_find" class="anchor"></a><code><span class="keyword">mutable</span> node_find : int;</code></td></tr><tr id="type-counters.node_val_v" class="anchored"><td class="def field"><a href="#type-counters.node_val_v" class="anchor"></a><code><span class="keyword">mutable</span> node_val_v : int;</code></td></tr><tr id="type-counters.node_val_find" class="anchored"><td class="def field"><a href="#type-counters.node_val_find" class="anchor"></a><code><span class="keyword">mutable</span> node_val_find : int;</code></td></tr><tr id="type-counters.node_val_list" class="anchored"><td class="def field"><a href="#type-counters.node_val_list" class="anchor"></a><code><span class="keyword">mutable</span> node_val_list : int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-counters"><a href="#val-counters" class="anchor"></a><code><span class="keyword">val</span> counters : unit <span>&#45;&gt;</span> <a href="index.html#type-counters">counters</a></code></dt><dt class="spec value" id="val-dump_counters"><a href="#val-dump_counters" class="anchor"></a><code><span class="keyword">val</span> dump_counters : <span>unit Fmt.t</span></code></dt><dt class="spec value" id="val-reset_counters"><a href="#val-reset_counters" class="anchor"></a><code><span class="keyword">val</span> reset_counters : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-inspect"><a href="#val-inspect" class="anchor"></a><code><span class="keyword">val</span> inspect : <a href="index.html#type-tree">tree</a> <span>&#45;&gt;</span> <span>[ `Contents <span><span>| `Node</span> of <span>[ `Map <span>| `Hash</span> <span>| `Value</span> ]</span></span> ]</span></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="../index.html#type-tree">tree</a> <span>&#45;&gt;</span> <a href="../index.html#type-hash">hash</a></code></dt><dt class="spec value" id="val-of_hash"><a href="#val-of_hash" class="anchor"></a><code><span class="keyword">val</span> of_hash : <a href="../Repo/index.html#type-t">Repo.t</a> <span>&#45;&gt;</span> <a href="../index.html#type-hash">hash</a> <span>&#45;&gt;</span> <span><span><a href="../index.html#type-tree">tree</a> option</span> Lwt.t</span></code></dt><dt class="spec value" id="val-shallow"><a href="#val-shallow" class="anchor"></a><code><span class="keyword">val</span> shallow : <a href="../Repo/index.html#type-t">Repo.t</a> <span>&#45;&gt;</span> <a href="../index.html#type-hash">hash</a> <span>&#45;&gt;</span> <a href="../index.html#type-tree">tree</a></code></dt></dl></div></body></html>